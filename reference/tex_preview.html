<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render and Preview snippets of TeX in R Viewer — tex_preview • texPreview</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render and Preview snippets of TeX in R Viewer — tex_preview"><meta property="og:description" content="input TeX script into the function and it renders a pdf and
converts it an image which is sent to Viewer."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">texPreview</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/metrumresearchgroup/texPreview" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/MetrumRG" class="external-link">
    <span class="fa fa-lg fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render and Preview snippets of TeX in R Viewer</h1>
    <small class="dont-index">Source: <a href="https://github.com/yonicd/texPreview/blob/HEAD/R/tex_preview.R" class="external-link"><code>R/tex_preview.R</code></a></small>
    <div class="hidden name"><code>tex_preview.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>input TeX script into the function and it renders a pdf and
converts it an image which is sent to Viewer.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tex_preview</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  tex_lines <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stem <span class="op">=</span> <span class="st">"tex_temp"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_pdf <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tex_message <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fileDir <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"fileDir"</span><span class="op">)</span>,</span>
<span>  margin <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"margin"</span><span class="op">)</span>,</span>
<span>  imgFormat <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"imgFormat"</span><span class="op">)</span>,</span>
<span>  returnType <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"returnType"</span><span class="op">)</span>,</span>
<span>  resizebox <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"resizebox"</span><span class="op">)</span>,</span>
<span>  usrPackages <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"usrPackages"</span><span class="op">)</span>,</span>
<span>  engine <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"engine"</span><span class="op">)</span>,</span>
<span>  cleanup <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"cleanup"</span><span class="op">)</span>,</span>
<span>  density <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"density"</span><span class="op">)</span>,</span>
<span>  svg_max <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"svg_max"</span><span class="op">)</span>,</span>
<span>  print.xtable.opts <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"print.xtable.opts"</span><span class="op">)</span>,</span>
<span>  opts.html <span class="op">=</span> <span class="va">tex_opts</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"opts.html"</span><span class="op">)</span>,</span>
<span>  markers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>obj</dt>
<dd><p>object to convert to TeX script</p></dd>


<dt>tex_lines</dt>
<dd><p>vector of character, in case of special needs, instead of
asking texPreview to build up, you may choose to pass in the contents of the
complete LaTeX file directly. It should be a vector of character with each
element as a line of raw TeX code.</p></dd>


<dt>stem</dt>
<dd><p>character, name to use in output files, Default: "tex_temp"</p></dd>


<dt>overwrite</dt>
<dd><p>logical, controls if overwriting of output
stem* files given their existences, Default: TRUE</p></dd>


<dt>keep_pdf</dt>
<dd><p>logical, controls if the rendered pdf file should be kept
or deleted, Default: FALSE</p></dd>


<dt>tex_message</dt>
<dd><p>logical, controls if latex executing messages
are displayed in console. Default: FALSE</p></dd>


<dt>fileDir</dt>
<dd><p>character, output destination. If NULL a temp.dir()
will be used and no output will be saved, Default: tex_opts$get('fileDir')</p></dd>


<dt>margin</dt>
<dd><p>table margin for pdflatex call, Default: tex_opts$get('margin')</p></dd>


<dt>imgFormat</dt>
<dd><p>character, defines the type of image the PDF is
converted to Default: tex_opts$get('imgFormat')</p></dd>


<dt>returnType</dt>
<dd><p>character, one of "viewer", "html", or "tex"
determining appropriate return type for the rendering process,
Default: tex_opts$get('returnType')</p></dd>


<dt>resizebox</dt>
<dd><p>logical, forces a tabular tex object to be constrained on the
margins of the document, Default: tex_opts$get('resizebox')</p></dd>


<dt>usrPackages</dt>
<dd><p>character, vector of usepackage commands,
see details for string format</p></dd>


<dt>engine</dt>
<dd><p>character, specifies which latex to pdf engine to use
('pdflatex','xelatex','lualatex'), Default: tex_opts$get('engine')</p></dd>


<dt>cleanup</dt>
<dd><p>character, vector of file extensions to clean up after
building pdf, Default: tex_opts$get('cleanup')</p></dd>


<dt>density</dt>
<dd><p>numeric, controls the density of the image.
Default is 150: tex_opts$get('density)</p></dd>


<dt>svg_max</dt>
<dd><p>numeric, maximum svg file size allowable to preview,
Default: tex_opts$get('svg_max')</p></dd>


<dt>print.xtable.opts</dt>
<dd><p>list, contains arguments to pass to print.table,
relevant only if xtable is used as the input,
Default: tex_opts$get('print.xtable.opts')</p></dd>


<dt>opts.html</dt>
<dd><p>list, html options, Default: tex_opts$get('opts.html')</p></dd>


<dt>markers</dt>
<dd><p>logical, if TRUE then RStudio markers will be invoked to
create links for the log file on rendering errors, Default: interactive()</p></dd>


<dt>...</dt>
<dd><p>passed to <a href="https://rdrr.io/r/base/system2.html" class="external-link">system2</a></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The output of the function is dependent on the value of returnType:</p><ul><li><p>viewer: NULL</p><ul><li><p>magick image is printed in the internal viewer</p></li>
</ul></li>
<li><p>tex:</p><ul><li><p>character, TeX lines</p></li>
<li><p>printed 'asis' in RMarkdown</p></li>
</ul></li>
<li><p>input: character</p><ul><li><p>path to the file containing the tex wrapped in an input call</p></li>
<li><p>printed 'asis' in RMarkdown</p></li>
</ul></li>
<li><p>html: magick image</p><ul><li><p>Printed as an HTML document in the internal viewer</p></li>
<li><p>Printed as an image in RMarkdown</p></li>
</ul></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>tex_preview</code> is an <code>S3 method</code> that can be used to preview TeX output from different
object classes.</p>
<p>Built-in support includes:</p><ul><li><p>character (tex lines)</p></li>
<li><p>knitr_kable (kable/kableExtra)</p></li>
<li><p>xtable</p></li>
<li><p>texreg</p></li>
<li><p>equatiomatic</p></li>
</ul><p><br><details><summary><span title="Click to Expand"> System Requirements </span> </summary></details></p>
<p>The function assumes the system has pdflatex installed and it is  defined in the PATH.</p>
<p></p>
<p><br><details><summary><span title="Click to Expand"> TeX Packages </span> </summary></details></p>
<p>To add packages to the tex file on render there are two options</p><ul><li><p>Use <a href="build_usepackage.html">build_usepackage</a> and use the input
argument <code>usrPackages</code>.</p></li>
<li><p>Append to the input object <code>\\usepackage{...}</code> calls, they will be parsed
and added the to rendering.</p></li>
</ul><p></p>
<p><br><details><summary><span title="Click to Expand"> Images </span> </summary></details></p><ul><li><p>An image file of the name stem with the extension specified in <code>imgFormat</code>.</p></li>
<li><p>The default extension is png.</p></li>
</ul><p></p>
<p><br><details><summary><span title="Click to Expand"> Side effects </span> </summary></details></p><ul><li><p>The function writes two files to disk in the <code>fileDir</code></p><ul><li><p>Image file</p></li>
<li><p>TeX script</p></li>
</ul></li>
<li><p>The rendering files are removed up from the <code>fileDir</code>. This can
be controlled using the <code>cleanup</code> argument or <code>tex_opts$get('cleanup')</code></p></li>
</ul><p></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'iris'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Raw TeX</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tex</span> <span class="op">&lt;-</span> <span class="st">'\\begin{tabular}{llr}</span></span></span>
<span class="r-in"><span><span class="st">\\hline</span></span></span>
<span class="r-in"><span><span class="st">\\multicolumn{2}{c}{Item} \\\\</span></span></span>
<span class="r-in"><span><span class="st">\\cline{1-2}</span></span></span>
<span class="r-in"><span><span class="st">Animal    &amp; Description &amp; Price (\\$) \\\\</span></span></span>
<span class="r-in"><span><span class="st">\\hline</span></span></span>
<span class="r-in"><span><span class="st">Gnat      &amp; per gram    &amp; 13.65      \\\\</span></span></span>
<span class="r-in"><span><span class="st">&amp; each        &amp; 0.01       \\\\</span></span></span>
<span class="r-in"><span><span class="st">Gnu       &amp; stuffed     &amp; 92.50      \\\\</span></span></span>
<span class="r-in"><span><span class="st">Emu       &amp; stuffed     &amp; 33.33      \\\\</span></span></span>
<span class="r-in"><span><span class="st">Armadillo &amp; frozen      &amp; 8.99       \\\\</span></span></span>
<span class="r-in"><span><span class="st">\\hline</span></span></span>
<span class="r-in"><span><span class="st">\\end{tabular}'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># knitr kable</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">mtcars</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="st">"latex"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">tex_preview</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with svg output pan/zoom is enabled in the internal viewer</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tex_preview</span><span class="op">(</span>obj <span class="op">=</span> <span class="va">tex</span>,stem <span class="op">=</span> <span class="st">'eq'</span>,imgFormat <span class="op">=</span> <span class="st">'svg'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use tex_lines parameter to pass full document</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tikz_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                  <span class="st">'examples/tikz/credit_rationing.tex'</span>,</span></span>
<span class="r-in"><span>                  package <span class="op">=</span> <span class="st">'texPreview'</span></span></span>
<span class="r-in"><span>                  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tex_preview</span><span class="op">(</span>tex_lines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">tikz_path</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jonathan Sidi, Daniel Polhamus.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

